{% extends 'base.html' %}
{% load static i18n %}

{% block title %}{% trans "Store" %} - AL BURAQ GROUP{% endblock %}

{% block extra_css %}
<style>
    .category-card {
        position: relative;
        overflow: hidden;
        border-radius: var(--radius-xl);
        height: 280px;
    }

    .category-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .category-card:hover img {
        transform: scale(1.1);
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero -->
<section
    style="padding: 150px 0 80px; background: linear-gradient(180deg, var(--bg-darker) 0%, var(--bg-dark) 100%); position: relative; overflow: hidden;">
    <div class="container text-center">
        <h1 class="mb-md" data-aos="fade-up">{% trans "Browse Our" %} <span class="text-gold">{% trans "Products" %}</span></h1>
        <p style="color: var(--text-secondary); max-width: 600px; margin: 0 auto;" data-aos="fade-up"
            data-aos-delay="100">
            {% trans "Explore our wide range of quality products" %}
        </p>
    </div>
    <i class="fas fa-shopping-bag"
        style="position: absolute; right: -50px; bottom: -50px; font-size: 300px; opacity: 0.03; color: var(--gold-primary);"></i>
</section>

<!-- Search & Filter -->
<section class="section pb-0">
    <div class="container">
        <div class="card card-glass p-0" data-aos="fade-up">
            <form action="" method="GET" class="flex" style="padding: 0.5rem;">
                <input type="text" name="q" class="form-control" placeholder="{% trans 'Search products...' %}"
                    value="{{ request.GET.q }}"
                    style="flex: 1; border: none; background: transparent; padding: 1rem 1.5rem; font-size: 1.1rem; color: #fff;">
                <button type="submit" class="btn btn-primary" style="border-radius: var(--radius-lg); padding: 0 2rem;">
                    <i class="fas fa-search"></i>
                </button>
            </form>
        </div>
    </div>
</section>

<!-- Categories Grid -->
<section class="section">
    <div class="container">
        {% if categories %}
        <div class="grid grid-cols-3 gap-lg">
            {% for category in categories %}
            <a href="{{ category.get_absolute_url }}" class="card card-glass category-card" data-aos="fade-up"
                data-aos-delay="{{ forloop.counter0|add:1 }}00">
                <div style="position: relative; overflow: hidden; border-radius: var(--radius-lg); width: 100%; height: 100%;">
                    {% if category.image %}
                    <img src="{{ category.image.url }}" alt="{{ category.name }}"
                        style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;">
                    {% else %}
                    <div
                        style="width: 100%; height: 100%; background: linear-gradient(135deg, var(--bg-card), var(--bg-darker)); display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-box-open" style="font-size: 4rem; color: var(--gold-primary); opacity: 0.5;"></i>
                    </div>
                    {% endif %}
                    <div
                        style="position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); display: flex; align-items: flex-end; padding: 1.5rem;">
                        <div>
                            <h3 style="margin: 0; color: #fff; font-size: 1.25rem;">{{ category.name }}</h3>
                            <p style="margin: 0.5rem 0 0; color: rgba(255,255,255,0.8); font-size: 0.9rem;">
                                {{ category.products.count }} {% trans "products" %}
                            </p>
                        </div>
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center py-2xl">
            <div
                style="width: 80px; height: 80px; background: rgba(255,255,255,0.05); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;">
                <i class="fas fa-search" style="font-size: 2rem; color: var(--text-muted);"></i>
            </div>
            <h3 class="text-muted">{% trans "No categories available yet." %}</h3>
        </div>
        {% endif %}
    </div>
</section>

<!-- Custom Sourcing -->
<section class="section" style="background: var(--bg-darker);">
    <div class="container text-center">
        <div class="card card-glass inline-block" style="padding: 3rem; max-width: 700px; margin: 0 auto;"
            data-aos="fade-up">
            <i class="fas fa-globe-asia mb-md" style="font-size: 3rem; color: var(--gold-primary);"></i>
            <h2 class="mb-sm">{% trans "Can't find what you're looking for?" %}</h2>
            <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                {% trans "Let us help you source the exact product you need directly from manufacturers." %}
            </p>
            <div class="flex justify-center gap-md">
                <a href="https://wa.me/{{ COMPANY_WHATSAPP|slice:'1:' }}" class="btn btn-primary">
                    <i class="fab fa-whatsapp"></i> {% trans "WhatsApp Us" %}
                </a>
                <a href="mailto:info@alburaq.com" class="btn btn-outline">
                    <i class="far fa-envelope"></i> {% trans "Send Inquiry" %}
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}